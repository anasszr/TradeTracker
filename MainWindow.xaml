<Window x:Class="TradeTracker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TradeTracker.ViewModels"
        mc:Ignorable="d"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="MainWindow" Height="450" Width="1450" MinWidth="800">

    <Window.DataContext>
        <local:TradeModelView />
    </Window.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="70*" />
            <ColumnDefinition Width="30*" />
        </Grid.ColumnDefinitions>

        <!-- Left Column Content -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Input Section (Row 0) -->
            <Viewbox>
                <ScrollViewer Grid.Row="0" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled" Margin="10,0,-10,0">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="5" VerticalAlignment="Center">
                            <Grid Margin="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- Pair -->
                                <StackPanel Grid.Column="0" Margin="5" VerticalAlignment="Center">
                                    <TextBlock Text="Trade Pair:" VerticalAlignment="Center"/>
                                    <ComboBox Name="mycombobox" ItemsSource="{Binding SymbolOptions}" SelectedItem="{Binding NewTrade.Symbol}" DisplayMemberPath="." />
                                </StackPanel>

                                <!-- Date -->
                                <StackPanel Grid.Column="1" Margin="5" VerticalAlignment="Center">
                                    <TextBlock Text="Select Date" />
                                    <DatePicker Name="myDatePicker" SelectedDate="{Binding NewTrade.Date, Mode=TwoWay}" DisplayDate="{Binding NewTrade.Date}" Width="120"/>
                                </StackPanel>

                                <!-- Entry Price -->
                                <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                    <TextBlock Text="Entry Price:" />
                                    <TextBox   Name="entry" Width="100" Margin="2" Text="{Binding NewTrade.EntryPrice}"  />
                                </StackPanel>

                                <!-- Close Price -->
                                <StackPanel Grid.Column="3" VerticalAlignment="Center">
                                    <TextBlock Text="Close Price:" />
                                    <TextBox  Name="close" Width="100" Margin="2" Text="{Binding NewTrade.ClosePrice}"   />
                                </StackPanel>

                                <!-- Short/Long -->
                                <StackPanel Grid.Column="4" VerticalAlignment="Center">
                                    <TextBlock Text="Short/Long:" />
                                    <ComboBox Name="myShortLongcombobox" ItemsSource="{Binding ShortLongptions}" SelectedItem="{Binding NewTrade.ShortLong}" DisplayMemberPath="." />
                                </StackPanel>
                                <!-- Win/Loss -->
                                <StackPanel Grid.Column="5" VerticalAlignment="Center">
                                    <TextBlock Text="Win/Loss:" />
                                    <ComboBox Name="myWinLosscombobox" ItemsSource="{Binding WinLossOptions}" SelectedItem="{Binding NewTrade.WinLoss}" DisplayMemberPath="." />
                                </StackPanel>

                                
                                

                                <!-- Value -->
                                <StackPanel Grid.Column="6" VerticalAlignment="Center">
                                    <TextBlock Text="Value:" />
                                    <TextBox  Name="value" Width="100" Margin="2" Text="{Binding NewTrade.Value}"  />
                                </StackPanel>

                                <!-- Notes -->
                                <StackPanel Grid.Column="7" Margin="5">
                                    <TextBlock Text="Notes Media" />
                                    <TextBox Name="myNoteTextBox" Width="220" Height="80" AcceptsReturn="True" TextWrapping="Wrap" Text="{Binding NewTrade.Note}"/>
                                    
                                </StackPanel>
                                <StackPanel Grid.Column="8" Margin="5" VerticalAlignment="Center">
                                   
                                    <Button Content="📁 Upload Media" Margin="2,8,2,2" 
                                            ToolTip="Attach screenshots or documents" Background="#4CAF50"/>
                                </StackPanel>

                                <!-- Submit Section -->
                                <StackPanel Grid.Column="9" Margin="5" VerticalAlignment="Center">
                                    <Button Content="Submit" Width="80" Padding="5" VerticalAlignment="Center" Height="30"  Command="{Binding ClickCommand}" />
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </Viewbox>

            <!-- DataGrid (Row 1) -->
            <DataGrid ItemsSource="{Binding Trades}" Grid.Row="1" x:Name="SimpleDataGrid" AutoGenerateColumns="False" Margin="10" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding Id, Mode=OneWay}" Width="50*" />
                    <DataGridTextColumn Header="Symbol" Binding="{Binding Symbol, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Date" Binding="{Binding DateDisplay, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Entry Price" Binding="{Binding EntryPrice, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Close Price" Binding="{Binding ClosePrice, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Short/Long" Binding="{Binding ShortLong, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Win/Loss" Binding="{Binding WinLoss, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Value" Binding="{Binding Value, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Note" Binding="{Binding Note, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Media" Binding="{Binding Media, Mode=OneWay}" Width="70*" />
                    <DataGridTextColumn Header="Options" Binding="{Binding Options, Mode=OneWay}" Width="70*" />
                </DataGrid.Columns>
            </DataGrid>

            <!-- Action Buttons (Row 2) -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                <Button Content="More Information" Width="Auto" Margin="5" Padding="3"/>
                <Button Content="Export" Width="Auto" Margin="5" Padding="3"/>
                <Button Content="Exit" Width="Auto" Margin="5" Padding="3" Click="Button_Exit"/>
            </StackPanel>
        </Grid>

        <!-- Right Column News Grid -->
        <DataGrid Grid.Column="1" x:Name="SimpleNews" Margin="10" AutoGenerateColumns="False" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Latest News" Binding="{Binding News}" Width="*" />
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
